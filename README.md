# 14mv
14 minesweeper variants hint calculator with GUI


## 주의
⚠️ 혼자 쓸 용도로 만들었기 때문에 잘못 실행하여 프로그램이 화면의 여러 곳을 클릭하는 등 예상치 못한 동작을 해도 책임지지 않습니다.
⚠️ Caution: Because it is intended for use alone, I'm not responsible for unexpected actions of the program such as accidental clicking various places on the screen.


## 켜는법 (windows)
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
.\.venv\Scripts\activate # 터미널 활성화를 해놓은 채로 main.py를 실행

deactivate
C:\dev\14mv\.venv\Scripts\activate

pip install uv

uv add pydantic
uv add --active pydantic
```


## pyqt5 가 실행이 안되는 문제
```
(14mv) PS C:\Users\[실명]\Documents\GitHub\14mv> & c:/Users/[실명]/Documents/GitHub/14mv/.venv/Scripts/python.exe c:/Users/[실명]/Documents/GitHub/14mv/main.py
qt.qpa.plugin: Could not find the Qt platform plugin "windows" in ""
This application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem.
```
- 경로에 한글이 있어서 그렇다고 한다.
  - https://blog.naver.com/blueqnpfr1/221582202946
- C:\dev\14mv 에 따로 설치했다.





# TODOs
## Todo
- 14mv2 문제들 풀기
- 똑같은 리전이 저장될거같은데 중복검사하기
- 영역 덧셈하기
- 리팩토링: 새 규칙 추가하기 쉽게
- 리팩토링: 디스플레이, 조작하는 함수 파일 옮기기
- 리팩토링: 안쓰는 함수 지우기
- ExpandedRegion에서 하나가 나머지의 부분집합인 경우 먼저 합치기
- 합쳤을때 나올만한 경우의 수가 적은것부터 먼저 합치기
- 리팩토링 - 모듈화
- 리팩토링 - 새 규칙을 추가하는 장소를 한군데로 몰아놓기
- 리팩토링 - 규칙 추가할때 코드에서 공통적인 부분 수집
- 리팩토링 - 그리드는 필요한 정보를 모두 얻은 후 결국 0, -1, -2만 남기기...?
- 리팩토링 - 스샷 앤 스톱. 설정으로 만들기
- 추가 클릭은 "리전이 있었던 모든 숫자 + 방금 좌클릭한거" 로 하자
- 문제 풀기위해 스샷 찍자마자 다음레벨 체크를 한번 하자
- 전체영역 없이 한번 하고, 포함해서 한번 더하고. 속도증가 목적.
- 어려운 스샷으로부터 풀고 스샷 지우기
- "safe" 인것들 "number" 로 바꾸기
- W rule, L rule 에서 이웃 정보를 const에 있는걸로 사용하기
- 우변 코드들 리팩토링하기
- 익스리전 중복검사 (set 금지)
- 게임판에 남아있는 빈칸개수와 힌트개수가 같으면 투클릭을 하지 않는다
- 힌트 사이즈와 남은 빈칸 사이즈가 같으면 싱글클릭하기
- 처음 단서와 관련됐다는 의미의 clueness 필드를 추가하고 1 이상일때만 합치기
- 느린거 (T, D, A) 속도개선 -> clueness를 도입하든가
- 리전으로부터 익스리전 만드는거 부분 모듈화하기
  - 그 부분에서 V, B, ... 을 분리해야 B를 익스리전으로 넣기가 쉽다
- +', +'! 페이지 클릭할수 있게 하기
- 바이브코딩 원칙 보기
- 리팩토링해서 중복코드 없애기
- 접기


## ✅ Done
- 이미지를 받아오기
- 이미지에서 표로 변환
- 표에서 숫자를 추출 해서 list로 저장
- list에서 힌트 계산
- 계산이 완료된 list를 표시
- 해당하는 칸을 자동으로 클릭하기
- window.py 코드가 init에 전부 있는게 보기 안좋으므로 리팩토링
- 로깅, 주석 정리좀
- 다음 스테이지로 자동으로 넘어가기
- 숫자 하나를 클릭하면 되는것은 그걸 클릭하기
- 멈춰야 되는 조건 적용하기
- 클릭 배치처리로 반복시간 줄이기
- 재생 표시가 있을때 스페이스바 누르고 넘어가고 리캡쳐
  - 각 모드+사이즈 별 지뢰 개수 입력 필요
- B 유형 풀기
- 트리플 힌트 일반적인 경우 만들기
- 좀더 제너럴한 region 3개 검사하기
- A교B, A교C, B교C가 존재하고 B, C의 needed는 둘다 1이고 A의 needed는 수-1 이면 B교C는 safe이다.
- "트리플 셀" 의 듀얼 로직 구현하기
- 재귀적으로 여러번 실행해서 결과 표시
- 사이즈 인식하기
  - 좌상단 꼭짓점이 "6"에서 나오면 그 판의 사이즈는 5임
- GUI 창에서 사이즈(모드드) 선택할수 있게 하기
- 리팩토링: 테스트들 점검
- 2V 룰 구현하기
  - 스크린샷 인식
- 2D 룰 구현하기
  - EZ
- 영역 4개짜리 로직 구현하기
  - 과연...
- 영역 expander 개념 구현하기
  - 뭐 이제 경우의 수를 따지는거죠...
- 리전 만들때 cases가 3000개를 넘어가면 "너무큼" 으로 표현하기
- [+]!5x5 해금하기
- 리팩토링 - 힌트유틸즈 분리하고 클래스화
- 쿼드루플 힌트 (둘둘짝) 만들기 (X'! 풀기)
- V!, X, X', X'!, K, K! 보드정보 입력하기
- 전체 칸에 대한 개수 세서 활용해서 풀기
- area2 in (area1 + area3) 인 경우 검사하기
  - 1과 3은 안겹치고 2는 union(1, 3) 안에 들어가면 1+3-2 영역을 본다
- M 룰 구현하기
  - 리전 구상, 체크보드, 설계...
- O 룰 구현하기
  - 네칸에 체크무늬인 경우는 있을수 없다
- 우변 익스리전을 만들기 위해 "스샷만 찍고 끄는 모드" 를 코드에 넣자 (easy)
- 우변 익스리전을 만들자
- 리전 익스팬드할때 경우의 수를 다 담은다음에 걸러내지 말고 경우의수 이터레이트 하면서 거르기
- 리전 필터링할때 쿼드를 먼저 골라내는게 아니라 그냥 그 힌트를 그리드에 넣었다고 가정하고 아닌경우 나오면 컷하기
- 룰 D는 사각형과 십자에서 따지자
- 익스리전중에 셀 k개있고 경우의수 2^k개인거는 버리기
- 익스리전에서 힌트 나왔으면 반영하고 다시돌리기
- 영역 합쳤을때 힌트가 나오면 그걸 익스리전에 다시 반영하기
- 5번 연속 스킵을 했거나 "다풀었으면" 다음 카테고리로 넘어가기
- 갤러리 5 하드모드 해금하기 (남은거: D, M, N, E)
- 리팩토링 - 이터레이트 뽀레버: 기본값 false. 설정으로 만들기
- 영역 합칠때 부분집합인건 즉시 반영하기
- 부분 영역과 전체 영역을 따로 취급해야됨 -> 전체영역 안넣은거 한번하고 넣은거 한번해서 해결
- 스킵을 파일로 저장하는게 아니라 무한뺑뺑이 돌수있게 만듦
- ?, ?! 페이지 클릭할수 있게 하기
- 갤러리 6!, 7!, 8! 해금하기
- 아마존Q에게 시키기 전 복붙해넣을 프롬프트 작성하기.
- 빨간화살표면 스킵하고 0.1초 쉬기
- 힌트가 나오는 경우(?) 먼저 합치기
- 코드 퍼블릭으로 만들기

## ❌ Won't do
- 안전한 칸과 깃발 꽂을 칸을 표로 / 이미지로 표시
- 힌트만으로 못풀었으면 문제 그냥 넘기고 계속 진행하기
- TDD 어케함?
- 싱글 힌트 클릭 부활시키기
- 리팩토링: 주석 빼
- A in (B 합 C) 이고 (B교C 의 칸 수) = (B needed) = (C needed) = k>0 이면 B교C는 safe이다.
- 유닛테스트 만들기
- 유닛 테스트를 만들기위한 구조만들기
- 유닛 테스트를 만들기위한 구조만들기 위한 계획하기
  - 될때까지 꼬꼬무
- 영역합치기는 공통셀이 많은 순으로 정렬... 한다음에 결과가 적은순으로 정렬하는게 맞나?
- 아니면 가장 작은 영역을 다른 모든 영역과 합칠까?
- 똑같은 이미지 나오면 그냥 그거쓰기
- 익스리전 병합에서 블랭크셀이 부분집합이면 ...
- 스샷 여러번 찍는 경우를 탐지해서 시간 줄이자
- 영역 합칠때 부분집합이 아닌것 중에서는 교집합이 가장 많은걸로 합치기
- 스킵할때 파일로 저장한다. 스킵을 100번? 이상 하면 멈춘다
